sequenceDiagram
    participant user
    participant app.api.register
    participant app/api/api.json
    participant app.routes
    participant API data routes
    loop Generate API specification
        app.routes->>API data routes: get api information from route docstrings <br> (via flask-apispec)
        API data routes->>app.routes: -
        Note right of app.routes: app/api/api.json is <br>pregenerated by the <br>flask-apispec package
        app.routes->>app/api/api.json: generate api doc as JSON <br> (via flask-apispec)
    end
    user->>app.api.register: GET /api/save
    app.api.register->>app/api/api.json: Get data from api.json
    app/api/api.json->>app.api.register: -

    Note right of app.api.register: Parse JSON <br> to Python objcts
    app.api.register->>API data routes: Test routes with example input<br> to get example output
    API data routes->>app.api.register: -
    Note right of app.api.register: and format<br> into Markdown output

    app.api.register->>user: Return rendered API <br>(the Markdown) as string